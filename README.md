# Thememonopoly (äº’å‹•è¤‡ç¿’å¤§å¯Œç¿)
> **!æ­¤å°ˆæ¡ˆåŠ README.md çš†ç”± AI ç”Ÿæˆ!**
> **!This project and README.md are all generated by AI!**

![Project Banner](https://img.shields.io/badge/Status-Active-success)
![Vite](https://img.shields.io/badge/Built%20With-Vite-646CFF)
![Firebase](https://img.shields.io/badge/Database-Firebase-FFCA28)
![AI Powered](https://img.shields.io/badge/AI-Gemini%20%7C%20ElevenLabs-blueviolet)

> **å°‡æ¯ç‡¥çš„è¤‡ç¿’é¡Œç›®ï¼Œè®Šæˆä¸€å ´åˆºæ¿€çš„äº’å‹•å¤§å¯Œç¿å†’éšªï¼**
> Turn boring quizzes into an exciting interactive monopoly journey.

é€™æ˜¯ä¸€å€‹çµåˆ **ç”Ÿæˆå¼ AI** èˆ‡ **å¤šäººäº’å‹•éŠæˆ²** çš„æ•™è‚²å°ˆæ¡ˆã€‚æ•™å¸«å¯ä»¥é€éç°¡å–®çš„ä»‹é¢ï¼Œåˆ©ç”¨ AI å¿«é€Ÿç”Ÿæˆé©åˆèª²ç¨‹çš„ä¸»é¡Œåœ°åœ–ã€èƒŒæ™¯éŸ³æ¨‚èˆ‡é¡Œç›®ï¼Œè®“å­¸ç”Ÿåœ¨éŠæˆ²ä¸­å¿«æ¨‚è¤‡ç¿’ã€‚

---

## ğŸ® é—œæ–¼éŠæˆ² (The Game)

é€™æ˜¯ä¸€å€‹æ”¯æ´æ‰‹æ©Ÿèˆ‡é›»è…¦ç€è¦½å™¨çš„ç¶²é éŠæˆ² (PWA)ã€‚
*   **å¤šäººåŒæ¨‚**ï¼šæ”¯æ´æœ¬åœ°å¤šäººè¼ªæµæ“²éª°å­ï¼Œæˆ–é€éå³æ™‚è³‡æ–™åº«é€²è¡Œç•°åœ°é€£ç·šï¼ˆè¦–éƒ¨ç½²è¨­å®šè€Œå®šï¼‰ã€‚
*   **è§’è‰²ç³»çµ±**ï¼šå­¸ç”Ÿå¯é¸æ“‡æˆ–éš¨æ©Ÿç”Ÿæˆå¯æ„›çš„å‹•ç‰©é ­åƒã€‚
*   **PWA æ”¯æ´**ï¼šæ”¯æ´é›¢ç·šå®‰è£èˆ‡å¿«å– (Offline-ready)ï¼Œå¯å°‡ç¶²é å®‰è£åˆ°æ‰‹æ©Ÿä¸»ç•«é¢ï¼Œé«”é©—å¦‚åŸç”Ÿ App èˆ¬æµæš¢ã€‚

### ğŸ“± å¦‚ä½•å®‰è£ (How to Install)
å°‡ç¶²é åŠ å…¥ä¸»ç•«é¢ï¼Œç²å¾—æœ€ä½³å…¨è¢å¹•é«”é©—ï¼š

*   **iOS (iPhone/iPad)**:
    1.  ä½¿ç”¨ **Safari** é–‹å•Ÿç¶²é ã€‚
    2.  é»æ“Šä¸‹æ–¹çš„ **åˆ†äº« (Share)** æŒ‰éˆ• <img src="https://help.apple.com/assets/65E216738321584288029515/65E2167433B39655D30432CC/zh_TW/5728a50f3747b0e27163f572459fc546.png" height="16">ã€‚
    3.  æ»‘å‹•é¸å–®æ‰¾åˆ°ä¸¦é»æ“Š **ã€ŒåŠ å…¥ä¸»ç•«é¢ã€(Add to Home Screen) â•**ã€‚
*   **Android (Chrome)**:
    1.  é»æ“Šç€è¦½å™¨å³ä¸Šè§’çš„ **é¸å–® (â‹®)**ã€‚
    2.  é¸æ“‡ **ã€Œå®‰è£æ‡‰ç”¨ç¨‹å¼ã€(Install App)** æˆ– **ã€ŒåŠ åˆ°ä¸»ç•«é¢ã€**ã€‚
*   **é›»è…¦ (Chrome/Edge)**:
    1.  é»æ“Šç¶²å€åˆ—å³å´çš„ **å®‰è£åœ–ç¤º â¬‡ï¸** (Install)ã€‚

---

## ğŸ‘¨â€ğŸ« è‡´ æ•™è‚²å·¥ä½œè€… (For Teachers)

æœ¬å°ˆæ¡ˆæ—¨åœ¨é™ä½æ•¸ä½éŠæˆ²å¼å­¸ç¿’ (Game-Based Learning) çš„é–€æª»ã€‚æ‚¨ä¸éœ€è¦ä»»ä½•ç¨‹å¼è¨­è¨ˆèƒŒæ™¯ï¼Œå³å¯é€éæˆ‘å€‘å…§å»ºçš„ã€Œä¸»é¡Œç·¨è¼¯å™¨ã€è£½ä½œå°ˆå±¬æ•™æã€‚

### ğŸŒŸ æ ¸å¿ƒç‰¹è‰²
1.  **AI è¼”åŠ©å‰µä½œ**ï¼š
    *   **ä¸€éµç”Ÿæˆ**ï¼šè¼¸å…¥ä¸»é¡Œåç¨±ï¼ˆå¦‚ã€Œç«æ˜Ÿæ¢éšªã€ã€ã€Œå…‰åˆä½œç”¨ã€ï¼‰ï¼ŒAI ç›´æ¥å¹«æ‚¨ç”¢ç”Ÿæƒ…å¢ƒæè¿°ã€é¢¨æ ¼æç¤ºè©ã€‚
    *   **AI ç¹ªåœ–èˆ‡é…æ¨‚**ï¼šä¸²æ¥ Gemini èˆ‡ ElevenLabsï¼Œè‡ªå‹•ç”ŸæˆéŠæˆ²åœ°åœ–ã€NPC è§’è‰²ã€èƒŒæ™¯éŸ³æ¨‚ (BGM) èˆ‡éŸ³æ•ˆ (SFX)ã€‚
    *   **è‡ªå‹•å‡ºé¡Œ**ï¼šæ ¹æ“šæ‚¨çš„ä¸»é¡Œï¼ŒAI è‡ªå‹•è¨­è¨ˆ 20 é¡Œä»¥ä¸Šçš„å–®é¸é¡Œï¼Œä¸¦ç›´æ¥é…ç½®åˆ°åœ°åœ–ä¸Šã€‚

2.  **ç°¡æ˜“çš„ç·¨è¼¯é«”é©—**ï¼š
    *   **è¦–è¦ºåŒ–åœ°åœ–æ¨™è¨˜**ï¼šä¸Šå‚³åœ–ç‰‡æˆ–ä½¿ç”¨ AI ç”Ÿæˆåœ°åœ–å¾Œï¼Œæ»‘é¼ é»æ“Šå³å¯è¨­å®šç©å®¶ç§»å‹•è·¯å¾‘ã€‚
    *   **é¡Œç›®è‡ªè¨‚**ï¼šé™¤äº† AI å‡ºé¡Œï¼Œæ‚¨ä¹Ÿå¯ä»¥æ‰‹å‹•ä¿®æ”¹æ¯ä¸€é¡Œçš„å…§å®¹ã€é¸é …èˆ‡è§£ç­”ã€‚

3.  **é›²ç«¯åˆ†äº«**ï¼š
    *   è£½ä½œå®Œæˆçš„ä¸»é¡Œå¯ç›´æ¥é»æ“Šã€Œé›²ç«¯ç™¼ä½ˆã€ï¼Œè©²ä¸»é¡Œå³æœƒå‡ºç¾åœ¨éŠæˆ²åˆ—è¡¨ä¸­ï¼Œå­¸ç”Ÿæ‰“é–‹ç¶²é å³å¯éŠç©ã€‚

### ğŸš€ å¦‚ä½•é–‹å§‹ï¼Ÿ
1.  é–‹å•Ÿæœ¬å°ˆæ¡ˆçš„ **[ä¸»é¡Œç”¢ç”Ÿå™¨ (Theme Creator)](./tool_theme_creator.html)** ç¶²é ã€‚
2.  ä¾ç…§ç•«é¢ä¸Šçš„æ­¥é©Ÿè£½ä½œæ‚¨çš„éŠæˆ²ä¸»é¡Œï¼Œå®Œæˆå¾Œé»æ“Š **â˜ï¸ é›²ç«¯ç™¼ä½ˆ**ã€‚
3.  æ‚¨ä¹Ÿå¯ä»¥é»æ“Šå³ä¸Šè§’çš„ **âš™ï¸ AI è¨­å®š**ï¼Œè®“AIè‡ªå‹•ç”¢ç”ŸéŠæˆ²åœ°åœ–ã€NPC è§’è‰²ã€èƒŒæ™¯éŸ³æ¨‚ (BGM) èˆ‡éŸ³æ•ˆ (SFX)ã€‚

### ğŸ›¡ï¸ é‡è¦ï¼šAI å®‰å…¨è¨­å®š (API Key Security)
ç‚ºäº†ä½¿ç”¨ AI åŠŸèƒ½ï¼Œæ‚¨éœ€è¦å¡«å…¥ Google Gemini æˆ– ElevenLabs çš„ API Keyã€‚
> [!WARNING]
> **è«‹å‹¿åœ¨å…¬ç”¨é›»è…¦æˆ–èˆ‡å­¸ç”Ÿå…±ç”¨çš„è£ç½®ä¸Šç›´æ¥å¡«å…¥æ‚¨çš„ API Keyï¼**
> æ‚¨çš„ Key æœƒè¢«å„²å­˜åœ¨ç€è¦½å™¨ä¸­ï¼Œå¯èƒ½æœƒè¢«æœ‰å¿ƒäººå£«ç«Šå–ã€‚

è‹¥æ‚¨éœ€è¦åœ¨å…¬ç”¨ç’°å¢ƒä½¿ç”¨ï¼Œå¼·çƒˆå»ºè­°æ¶è¨­ä¸€å€‹ **Cloudflare Worker ä»£ç† (Proxy)**ã€‚é€™æ˜¯ä¸€å€‹å…è²»ä¸”å®‰å…¨çš„è½‰ç™¼æœå‹™ï¼Œå¯ä»¥éš±è—æ‚¨çš„çœŸå¯¦ Keyã€‚

#### â˜ï¸ åªè¦ 5 åˆ†é˜ï¼Cloudflare Proxy æ¶è¨­æ•™å­¸ (å…å¯«ç¨‹å¼)

è«‹ä¾ç…§ä»¥ä¸‹æ­¥é©Ÿï¼Œåœ¨ç¶²é ä¸Šé»å¹¾ä¸‹å³å¯å®Œæˆï¼š

1.  **è¨»å†Šå¸³è™Ÿ**ï¼šå‰å¾€ [Cloudflare Dash](https://dash.cloudflare.com/) è¨»å†Šä¸€å€‹å…è²»å¸³è™Ÿã€‚
2.  **å»ºç«‹ Worker**ï¼š
    *   åœ¨å·¦å´é¸å–®é»æ“Š **Workers & Pages**ã€‚
    *   é»æ“Š **Create** (å»ºç«‹) -> **Create Worker** (å»ºç«‹ Worker)ã€‚
    *   é»æ“Š **Deploy** (éƒ¨ç½²) (åå­—å¯ä»¥éš¨æ„å–ï¼Œä¾‹å¦‚ `my-game-proxy`)ã€‚
3.  **è²¼ä¸Šç¨‹å¼ç¢¼**ï¼š
    *   é»æ“Š **Edit code** (ç·¨è¼¯ç¨‹å¼ç¢¼)ã€‚
    *   **åˆªé™¤** å·¦å´ç·¨è¼¯å™¨ä¸­åŸæœ¬æ‰€æœ‰çš„ç¨‹å¼ç¢¼ã€‚
    *   **è¤‡è£½** ä¸‹æ–¹æä¾›çš„ç¨‹å¼ç¢¼ï¼Œä¸¦ **è²¼ä¸Š** åˆ°ç·¨è¼¯å™¨ä¸­ï¼š

    <details>
    <summary>ğŸ“„ é»æ“Šå±•é–‹æŸ¥çœ‹å®Œæ•´ç¨‹å¼ç¢¼ (Copy this code)</summary>

    ```javascript
    export default {
        async fetch(request, env, ctx) {
            const corsHeaders = {
                'Access-Control-Allow-Origin': '*',
                'Access-Control-Allow-Methods': 'GET, POST, OPTIONS',
                'Access-Control-Allow-Headers': 'Content-Type, x-api-key',
            };

            // Handle CORS preflight
            if (request.method === 'OPTIONS') {
                return new Response(null, { headers: corsHeaders });
            }

            // Only allow POST requests for the actual proxy logic
            if (request.method !== 'POST') {
                return new Response('Method Not Allowed', { status: 405, headers: corsHeaders });
            }

            try {
                const body = await request.json();
                const { type, payload } = body;

                if (type === 'gemini') {
                    // ä½¿ç”¨ç’°å¢ƒè®Šæ•¸ä¸­çš„ GEMINI_API_KEY
                    const geminiUrl = `https://generativelanguage.googleapis.com/v1/models/gemini-2.0-flash:generateContent?key=${env.GEMINI_API_KEY}`;
                    const response = await fetch(geminiUrl, {
                        method: 'POST',
                        headers: { 'Content-Type': 'application/json' },
                        body: JSON.stringify(payload),
                    });
                    const data = await response.json();
                    return new Response(JSON.stringify(data), {
                        headers: { ...corsHeaders, 'Content-Type': 'application/json' },
                        status: response.status
                    });
                }

                if (type === 'elevenlabs-sfx' || type === 'elevenlabs-music') {
                    const endpoint = type === 'elevenlabs-sfx' 
                        ? 'https://api.elevenlabs.io/v1/sound-generation' 
                        : 'https://api.elevenlabs.io/v1/music';
                    
                    const response = await fetch(endpoint, {
                        method: 'POST',
                        headers: {
                            'xi-api-key': env.ELEVENLABS_API_KEY, // ä½¿ç”¨ç’°å¢ƒè®Šæ•¸
                            'Content-Type': 'application/json'
                        },
                        body: JSON.stringify(payload),
                    });

                    if (!response.ok) {
                        const errText = await response.text();
                        return new Response(errText, { status: response.status, headers: { ...corsHeaders, 'Content-Type': 'application/json' } });
                    }

                    const audioBuffer = await response.arrayBuffer();
                    return new Response(audioBuffer, {
                        headers: { ...corsHeaders, 'Content-Type': 'audio/mpeg' },
                        status: response.status
                    });
                }

                return new Response(JSON.stringify({ error: 'Invalid proxy type' }), {
                    status: 400,
                    headers: { ...corsHeaders, 'Content-Type': 'application/json' }
                });

            } catch (err) {
                return new Response(JSON.stringify({ error: err.message }), {
                    status: 500,
                    headers: { ...corsHeaders, 'Content-Type': 'application/json' }
                });
            }
        },
    };
    ```
    </details>

4.  **éƒ¨ç½²**ï¼šé»æ“Šå³ä¸Šè§’çš„ **Deploy** å„²å­˜ã€‚
5.  **è¨­å®šé‡‘é‘° (Secrets)**ï¼š
    *   å›åˆ° Worker çš„è¨­å®šé é¢ (Settings)ã€‚
    *   é»æ“Š **Variables and Secrets** (è®Šæ•¸èˆ‡æ©Ÿå¯†)ã€‚
    *   é»æ“Š **Add**ï¼ŒåŠ å…¥ä»¥ä¸‹è®Šæ•¸ (å€¼å¡«å…¥æ‚¨çœŸå¯¦çš„ API Key)ï¼š
        *   è®Šæ•¸å: `GEMINI_API_KEY` / å€¼: (æ‚¨çš„ Google Gemini Key)
        *   è®Šæ•¸å: `ELEVENLABS_API_KEY` / å€¼: (æ‚¨çš„ ElevenLabs Keyï¼Œé¸å¡«)
    *   é»æ“Š **Deploy** å†æ¬¡éƒ¨ç½²ä»¥ç”Ÿæ•ˆã€‚
6.  **å®Œæˆ**ï¼š
    *   è¤‡è£½æ‚¨çš„ Workerç¶²å€ (ä¾‹å¦‚ `https://my-game-proxy.ooo.workers.dev`)ã€‚
    *   å›åˆ°æœ¬å°ˆæ¡ˆçš„ã€Œä¸»é¡Œç”¢ç”Ÿå™¨ã€>ã€Œâš™ï¸ AI è¨­å®šã€ã€‚
    *   å°‡ç¶²å€è²¼å…¥ **Cloudflare Worker ä»£ç†ç¶²å€** æ¬„ä½ã€‚
    *   **ç¾åœ¨æ‚¨å¯ä»¥å®‰å¿ƒåœ°ä½¿ç”¨ AI åŠŸèƒ½äº†ï¼**

---

## ğŸ’» è‡´ é–‹ç™¼è€… (For Developers)

### æŠ€è¡“æ¶æ§‹
*   **å‰ç«¯æ ¸å¿ƒ**: Native JavaScript (ES Modules), HTML5, CSS3
*   **å»ºæ§‹å·¥å…·**: [Vite](https://vitejs.dev/)
*   **æ¨£å¼æ¡†æ¶**: [Tailwind CSS](https://tailwindcss.com/)
*   **å¾Œç«¯æœå‹™**: [Firebase](https://firebase.google.com/)
*   **AI æ•´åˆ**: Google Gemini API, ElevenLabs API, Cloudflare Workers

### æœ¬åœ°é–‹ç™¼ (Local Development)

1.  **è¤‡è£½å°ˆæ¡ˆ & å®‰è£ä¾è³´**
    ```bash
    git clone https://github.com/<your-username>/Thememonopoly.git
    cd Thememonopoly
    npm install
    ```

2.  **è¨­å®šç’°å¢ƒè®Šæ•¸** (`.env`)
    ```env
    VITE_FIREBASE_API_KEY=...
    # å…¶ä»– Firebase è¨­å®š...
    ```

3.  **å•Ÿå‹•ä¼ºæœå™¨**: `npm run dev`

### éƒ¨ç½² (Deployment)
å°ˆæ¡ˆå…§å»º GitHub Actions (`.github/workflows/deploy.yml`)ï¼ŒPush åˆ° `main` åˆ†æ”¯å³è‡ªå‹•éƒ¨ç½²è‡³ **GitHub Pages**ã€‚è«‹è¨˜å¾—åœ¨ GitHub Repo Settings è¨­å®šå°æ‡‰çš„ Secretsã€‚

### Cloudflare Worker (CLI)
å¦‚æœæ‚¨ç†Ÿæ‚‰ `wrangler`ï¼Œä¹Ÿå¯ä»¥ç›´æ¥ä½¿ç”¨ CLI éƒ¨ç½² `worker/` ç›®éŒ„ä¸‹çš„ç¨‹å¼ç¢¼ï¼š
```bash
cd worker
npm install
npx wrangler secret put GEMINI_API_KEY
npx wrangler deploy
```

---

*Made with â¤ï¸ for Education.*
